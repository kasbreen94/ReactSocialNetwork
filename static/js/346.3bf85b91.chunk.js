"use strict";(self.webpackChunkReactSocialNetwork=self.webpackChunkReactSocialNetwork||[]).push([[346],{7346:(s,e,o)=>{o.r(e),o.d(e,{default:()=>F});var r=o(2791),l=o(4420),t=o(946);const n="Users_selectedPage__W9LRl",i="Users_userItem__wX4gC",a="Users_userPhoto__0hFuF",g="Users_follow__g0azf",c="Users_followed__iwrLF",u="Users_followed_follow__dacJp",p="Users_info__3XOHj",d="Users_preloader__G5tgT";o(6508);var h=o(184);const P=(s,e)=>{let{portionSize:o=10}=e,l=Math.ceil(s.totalUsersCount/s.pageSize),t=[];for(let r=1;r<=l;r++)t.push(r);let i=Math.ceil(l/o),[a,g]=(0,r.useState)(Math.ceil(s.currentPage/o)),c=(a-1)*o+1,u=a*o;return(0,h.jsxs)("div",{children:[a>1&&(0,h.jsx)("button",{onClick:()=>{g(a-1)},children:"PREV"}),t.filter((s=>s>=c&&s<=u)).map((e=>(0,h.jsx)("span",{className:s.currentPage===e?n:"",onClick:()=>{s.onPageChanged(e)},children:e},e.id))),i>a&&(0,h.jsx)("button",{onClick:()=>{g(a+1)},children:"NEXT"})]})};var f=o(3091),w=o(1087);const _=s=>(0,h.jsx)("div",{children:s.users.map((e=>(0,h.jsxs)("div",{className:i,children:[(0,h.jsxs)("span",{className:g,children:[(0,h.jsx)("div",{children:(0,h.jsx)(w.OL,{to:"/profile/"+e.id,children:(0,h.jsx)("img",{src:null!=e.photos.small?e.photos.small:f.Z,alt:"",className:a})})}),(0,h.jsx)("div",{children:e.followed?(0,h.jsx)("button",{disabled:s.followingInProgress.some((s=>s===e.id)),className:c,onClick:()=>{s.unfollow(e.id)},children:"Unfollow"}):(0,h.jsx)("button",{disabled:s.followingInProgress.some((s=>s===e.id)),className:"".concat(c," ").concat(u),onClick:()=>{s.follow(e.id)},children:"Follow"})})]}),(0,h.jsxs)("span",{className:p,children:[(0,h.jsx)("div",{children:e.name}),(0,h.jsx)("div",{children:e.status})]})]},e.id)))});const j=s=>(0,h.jsxs)("div",{children:[(0,h.jsx)(P,{totalUsersCount:s.totalUsersCount,pageSize:s.pageSize,currentPage:s.currentPage,onPageChanged:s.onPageChanged,getPortionSize:s.getPortionSize}),(0,h.jsx)(_,{users:s.users,followingInProgress:s.followingInProgress,unfollow:s.unfollow,follow:s.follow})]});var x=o(6875);const C=s=>s.usersPage.users,m=s=>s.usersPage.pageSize,S=s=>s.usersPage.totalUsersCount,U=s=>s.usersPage.currentPage,z=s=>s.usersPage.isFetching,v=s=>s.usersPage.followingInProgress,N=s=>s.usersPage.portionSize;class k extends r.Component{constructor(){super(...arguments),this.onPageChanged=s=>{this.props.requestUsers(s,this.props.pageSize)}}componentDidMount(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}render(){return(0,h.jsx)(h.Fragment,{children:this.props.isFetching?(0,h.jsx)(x.Z,{className:d}):(0,h.jsx)(j,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress,getPortionSize:this.props.getPortionSize})})}}const F=(0,l.$j)((s=>({users:C(s),pageSize:m(s),totalUsersCount:S(s),currentPage:U(s),getPortionSize:N(s),isFetching:z(s),followingInProgress:v(s)})),{follow:t.ZN,unfollow:t.fv,toggleFollowingProgress:t.ZH,requestUsers:t.D7})(k)}}]);
//# sourceMappingURL=346.3bf85b91.chunk.js.map